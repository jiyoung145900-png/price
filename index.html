<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>DAISY HOOKUPS | ì½”ìŠ¤ ë° ê°€ê²©í‘œ</title>
Â  Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
Â  Â  <style>
Â  Â  Â  Â  /* --- 1. ê¸°ë³¸ ì„¤ì • ë° í¬ê¸° ì§€ì • --- */
Â  Â  Â  Â  body {Â 
Â  Â  Â  Â  Â  Â  font-family: 'Malgun Gothic', 'Arial', sans-serif;Â 
Â  Â  Â  Â  Â  Â  margin: 0;Â 
Â  Â  Â  Â  Â  Â  padding: 0;Â 
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  Â  Â  background-color: #f0f2f5;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .phone-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .phone-frame {
Â  Â  Â  Â  Â  Â  width: 680px;Â 
Â  Â  Â  Â  Â  Â  height: 1248px;Â 
Â  Â  Â  Â  Â  Â  overflow-y: auto;Â 
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0,0,0,0.3);
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  padding: 20px 25px; /* ìƒë‹¨ íŒ¨ë”©ì„ ì¤„ì—¬ì„œ ë°°ê²½ì„ ë” ë³´ì´ê²Œ í•¨ */
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* â˜…â˜…â˜… ë°°ê²½ ì´ë¯¸ì§€ ì‚½ì… ê³µê°„ (GitHub íŒŒì¼ bok.png ì‚¬ìš©) â˜…â˜…â˜… */
Â  Â  Â  Â  #main-background {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  z-index: 0;Â 
Â  Â  Â  Â  Â  Â  opacity: 0.8;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  /* â†“â†“â†“â†“â†“â†“ íŒŒì¼ ê²½ë¡œë¡œ ì„¤ì •: bok.pngê°€ ê°™ì€ í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤. â†“â†“â†“â†“â†“â†“ */
Â  Â  Â  Â  Â  Â  background-image: url('bok.png');
Â  Â  Â  Â  Â  Â  background-size: cover; /* ì´ë¯¸ì§€ê°€ ì˜ë¦¬ì§€ ì•Šê²Œ í”„ë ˆì„ ì „ì²´ë¥¼ ë®ë„ë¡ ì„¤ì • */
Â  Â  Â  Â  Â  Â  background-position: center; /* ì´ë¯¸ì§€ê°€ ì¤‘ì•™ì— ì˜¤ë„ë¡ ì„¤ì • */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  header, #course-list-view, #detail-view {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  z-index: 1;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- 2. í—¤ë” ë° ë¡œê³  ìŠ¤íƒ€ì¼ (ì œê±° ìš”ì²­ì— ë”°ë¼ ìˆ˜ì •) --- */
Â  Â  Â  Â  header {Â 
Â  Â  Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  Â  Â  padding-bottom: 0px; /* ì œê±° */
Â  Â  Â  Â  Â  Â  margin-bottom: 0px;Â /* ì œê±° */
Â  Â  Â  Â  Â  Â  border-bottom: none; /* ì œê±° */
Â  Â  Â  Â  }
Â  Â  Â  Â  /* ë¡œê³  í”Œë ˆì´ìŠ¤ í™€ë” ë‚´ìš©ë„ ë¹„ì–´ ìˆìœ¼ë¯€ë¡œ, ì „ì²´ ë§ˆì§„ ì œê±° */
Â  Â  Â  Â  #logo-placeholder {
Â  Â  Â  Â  Â  Â  height: 0; /* ì œëª©ì„ ì œê±°í–ˆìœ¼ë¯€ë¡œ ê³µê°„ë„ ì œê±° */
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- 3. ì½”ìŠ¤ ëª©ë¡ ìŠ¤íƒ€ì¼ --- */
Â  Â  Â  Â  .course-list-header {
Â  Â  Â  Â  Â  Â  color: #d11e8a;Â 
Â  Â  Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  margin-top: 15px; /* ì œëª© ì œê±° í›„ ìƒë‹¨ ê³µê°„ í™•ë³´ */
Â  Â  Â  Â  }
Â  Â  Â  Â  .course-item {
Â  Â  Â  Â  Â  Â  /* ë°°ê²½ ì´ë¯¸ì§€ ìœ„ì— ì½˜í…ì¸ ê°€ ì˜ ë³´ì´ë„ë¡ ë°°ê²½ìƒ‰ì˜ íˆ¬ëª…ë„ë¥¼ ë†’ì„ */
Â  Â  Â  Â  Â  Â  background-color: rgba(255, 240, 245, 0.98);Â 
Â  Â  Â  Â  Â  Â  border: 2px solid #ffb6c1;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s, transform 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â  .course-item .course-title {
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #d11e8a;
Â  Â  Â  Â  }
Â  Â  Â  Â  .course-item .course-price {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  color: #5B5BFF;
Â  Â  Â  Â  Â  Â  margin-left: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ì½”ìŠ¤ ëª©ë¡ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  #download-list-btn {
Â  Â  Â  Â  Â  Â  background-color: #5B5BFF;Â 
Â  Â  Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  margin-top: 30px;Â 
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 0 #4a4adf;
Â  Â  Â  Â  }


Â  Â  Â  Â  /* --- 4. ìƒì„¸ ë·° ë° ì˜µì…˜ ìŠ¤íƒ€ì¼ --- */
Â  Â  Â  Â  #detail-view {Â 
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  /* ë°°ê²½ ì´ë¯¸ì§€ ìœ„ì— ì˜ ë³´ì´ë„ë¡ ë°°ê²½ìƒ‰ì˜ íˆ¬ëª…ë„ë¥¼ ë†’ì„ */
Â  Â  Â  Â  Â  Â  background-color: rgba(245, 248, 255, 0.98);Â 
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-view h3 {
Â  Â  Â  Â  Â  Â  color: #d11e8a;
Â  Â  Â  Â  Â  Â  font-size: 1.6em;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #detail-view p {
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed #ccc;
Â  Â  Â  Â  Â  Â  padding-bottom: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  #options-list h3 {
Â  Â  Â  Â  Â  Â  color: #5B5BFF;
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid #ff69b4;
Â  Â  Â  Â  Â  Â  padding-left: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .option-item input[type="checkbox"] {
Â  Â  Â  Â  Â  Â  transform: scale(1.3);
Â  Â  Â  Â  Â  Â  margin-right: 15px;
Â  Â  Â  Â  Â  Â  accent-color: #ff69b4;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* í•©ê³„ ê¸ˆì•¡ í•„ë“œ */
Â  Â  Â  Â  #total-display {
Â  Â  Â  Â  Â  Â  background-color: #f7f7f7;
Â  Â  Â  Â  Â  Â  padding: 15px 20px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  }
Â  Â  Â  Â  #current-total-price {
Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  font-weight: 900;
Â  Â  Â  Â  Â  Â  color: #ff0000;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- 5. ìƒì„¸/ê²¬ì  ë²„íŠ¼ --- */
Â  Â  Â  Â  .action-btn {Â 
Â  Â  Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  Â  Â  padding: 15px;Â 
Â  Â  Â  Â  Â  Â  margin-top: 25px;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px;Â 
Â  Â  Â  Â  Â  Â  font-size: 1.2em;Â 
Â  Â  Â  Â  Â  Â  cursor: pointer;Â 
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â  #quote-modal-btn {Â 
Â  Â  Â  Â  Â  Â  background-color: #ff69b4;Â 
Â  Â  Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 0 #d11e8a;
Â  Â  Â  Â  }
Â  Â  Â  Â  #back-btn {Â 
Â  Â  Â  Â  Â  Â  background-color: #ccc;Â 
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 0 #999;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- 6. ìµœì¢… ê²¬ì  ëª¨ë‹¬ (ë””ìì¸ ê°•í™”) --- */
Â  Â  Â  Â  .modal-overlay {Â 
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  Â  Â  position: fixed; top: 0; left: 0; width: 100%; height: 100%;Â 
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);Â 
Â  Â  Â  Â  Â  Â  z-index: 1000;Â 
Â  Â  Â  Â  Â  Â  justify-content: center; align-items: center;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .modal-content {Â 
Â  Â  Â  Â  Â  Â  background-color: white;Â 
Â  Â  Â  Â  Â  Â  padding: 30px;Â 
Â  Â  Â  Â  Â  Â  border-radius: 12px;Â 
Â  Â  Â  Â  Â  Â  width: 90%;Â 
Â  Â  Â  Â  Â  Â  max-width: 500px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  border: 3px solid #ff69b4;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-header {Â 
Â  Â  Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  Â  Â  border-bottom: 3px solid #d11e8a;Â 
Â  Â  Â  Â  Â  Â  padding-bottom: 15px;Â 
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-header h3 { color: #d11e8a; font-size: 1.8em;}
Â  Â  Â  Â Â 
Â  Â  Â  Â  .quote-options {Â 
Â  Â  Â  Â  Â  Â  padding: 10px 0;Â 
Â  Â  Â  Â  Â  Â  border-top: 1px dashed #ffb6c1;Â 
Â  Â  Â  Â  Â  Â  border-bottom: 1px dashed #ffb6c1;Â 
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-options h4 {
Â  Â  Â  Â  Â  Â  color: #5B5BFF;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-options ul {
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  padding-left: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-options li {
Â  Â  Â  Â  Â  Â  list-style-type: none;Â 
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  padding-left: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .quote-options li::before {
Â  Â  Â  Â  Â  Â  content: "ğŸŒ¸";Â 
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  font-size: 0.8em;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ìµœì¢… í•©ê³„ ê¸ˆì•¡ ê°•ì¡° */
Â  Â  Â  Â  .final-total {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-top: 30px;
Â  Â  Â  Â  Â  Â  padding-top: 15px;
Â  Â  Â  Â  Â  Â  border-top: 2px solid #d11e8a;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .final-total .total-price {Â 
Â  Â  Â  Â  Â  Â  font-size: 3.5em;Â 
Â  Â  Â  Â  Â  Â  font-weight: 900;Â 
Â  Â  Â  Â  Â  Â  color: #ff0000;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ëª¨ë‹¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ìº¡ì²˜ì—ì„œ ì œì™¸ë¨) */
Â  Â  Â  Â  .modal-button {
Â  Â  Â  Â  Â  Â  background-color: #5B5BFF;Â 
Â  Â  Â  Â  Â  Â  color: white;Â 
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  padding: 12px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â  #modal-close-btn { background-color: #ccc; color: #333; margin-top: 15px;}
Â  Â  </style>
</head>
<body>

<div class="phone-container">
Â  Â Â 
Â  Â  <div class="phone-frame" id="phone-frame-capture">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="main-background"></div>

Â  Â  Â  Â  <header>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="logo-placeholder">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </header>

Â  Â  Â  Â  <div id="course-list-view">
Â  Â  Â  Â  Â  Â  <h3 class="course-list-header">ğŸ’ ì½”ìŠ¤ ëª©ë¡ ë° ê°€ê²© ğŸ’</h3>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="course-items-container">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button id="download-list-btn" onclick="downloadFrameAsPNG(false)">ğŸ–¼ï¸ í˜„ì¬ í™”ë©´ PNG ë‹¤ìš´ë¡œë“œ</button>
Â  Â  Â  Â  </div>


Â  Â  Â  Â  <div id="detail-view">
Â  Â  Â  Â  Â  Â  <h3 id="detail-title-selected" style="color: #d11e8a; text-align: center;"></h3>
Â  Â  Â  Â  Â  Â  <p style="text-align: center;">[<span id="detail-time-selected"></span> | ê¸°ë³¸ ê¸ˆì•¡: â‚© <span id="detail-price-selected-val">0</span>]</p>

Â  Â  Â  Â  Â  Â  <div id="options-list">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ì„ íƒ ì˜µì…˜ ì¶”ê°€ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</h3>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="total-display">
Â  Â  Â  Â  Â  Â  Â  Â  <strong>í˜„ì¬ê¹Œì§€ì˜ ì´ í•©ê³„ ê¸ˆì•¡</strong>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="current-total-price">â‚© 0</span>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <button id="quote-modal-btn" class="action-btn" onclick="showFinalQuote()">ğŸ’¸ ìµœì¢… ê²¬ì ì„œ ë³´ê¸°</button>
Â  Â  Â  Â  Â  Â  <button id="back-btn" class="action-btn" onclick="showCourseList()">â† ì½”ìŠ¤ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

<div id="final-quote-modal" class="modal-overlay">
Â  Â  <div class="modal-content" id="modal-capture-target">
Â  Â  Â  Â  <div class="quote-header">
Â  Â  Â  Â  Â  Â  <h3>DAISY ìµœì¢… ê²¬ì ì„œ</h3>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="quote-details-content">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="final-total">
Â  Â  Â  Â  Â  Â  <p>ì´ í•©ê³„ ê¸ˆì•¡</p>
Â  Â  Â  Â  Â  Â  <div class="total-price">â‚© <span id="modal-total-price">0</span></div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <button id="modal-close-btn" class="modal-button" onclick="closeFinalQuoteModal()">ë‹«ê¸°</button>
Â  Â  </div>
</div>

<script>
Â  Â  const INITIAL_COURSES = {
Â  Â  Â  Â  'sapphire': { title: 'ì‚¬íŒŒì´ì–´', time: '1ì‹œê°„', basePrice: 50000, options: [{name: 'ë¡œë¦¬í”Œ', price: 20000}, {name: 'ì• ë„', price: 15000}, {name: 'ì½”ìŠ¤ì¶”ê°€1', price: 10000}, {name: 'ì½”ìŠ¤ì¶”ê°€2', price: 5000}] },
Â  Â  Â  Â  'emerald': { title: 'ì—ë©”ë„ë“œ', time: '2ì‹œê°„', basePrice: 180000, options: [{name: 'í”„ë¦¬ë¯¸ì—„ ê³µê°„', price: 30000}, {name: 'ë§ì¶¤í˜• BGM', price: 10000}] },
Â  Â  Â  Â  'ruby': { title: 'ë£¨ë¹„', time: '4ì‹œê°„', basePrice: 350000, options: [{name: 'ì¥ì†Œ ë³€ê²½ í˜‘ì˜', price: 50000}, {name: 'ë£¨ë¹„ ì „ìš© ìƒ´í˜ì¸', price: 80000}] },
Â  Â  Â  Â  'diamond': { title: 'ë‹¤ì´ì•„ëª¬ë“œ', time: '8ì‹œê°„', basePrice: 600000, options: [{name: '24ì‹œê°„ ì»¨ì‹œì–´ì§€', price: 100000}, {name: 'ìµœê³ ê¸‰ ì¼€ì–´', price: 50000}] },
Â  Â  Â  Â  'topaz': { title: 'í† íŒŒì¦ˆ', time: '24ì‹œê°„', basePrice: 1200000, options: [{name: 'ì¢…ì¼ í’€ íŒ¨í‚¤ì§€', price: 0}, {name: 'í† íŒŒì¦ˆ ì „ìš© íŠ¹ì „', price: 150000}] }
Â  Â  };
Â  Â Â 
Â  Â  let coursesData;Â 
Â  Â  let currentSelectedCourseKey = null;

Â  Â  const formatPrice = (price) => price.toLocaleString('ko-KR');

Â  Â  function loadCoursesData() {
Â  Â  Â  Â  const savedData = localStorage.getItem('daisyCoursesData');
Â  Â  Â  Â  if (savedData) {
Â  Â  Â  Â  Â  Â  coursesData = JSON.parse(savedData);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  coursesData = INITIAL_COURSES;
Â  Â  Â  Â  }
Â  Â  }

Â  Â  // â˜…â˜…â˜… ìë™ ì €ì¥ ê¸°ëŠ¥ (LocalStorage)
Â  Â  function saveUserSelection() {
Â  Â  Â  Â  if (!currentSelectedCourseKey) return;

Â  Â  Â  Â  const savedSelections = JSON.parse(localStorage.getItem('daisyUserSelections')) || {};
Â  Â  Â  Â Â 
Â  Â  Â  Â  const selectedOptions = [];
Â  Â  Â  Â  // í˜„ì¬ ì²´í¬ëœ ì˜µì…˜ë“¤ì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
Â  Â  Â  Â  document.querySelectorAll('#options-list input[type="checkbox"]').forEach((checkbox, index) => {
Â  Â  Â  Â  Â  Â  if (checkbox.checked) {
Â  Â  Â  Â  Â  Â  Â  Â  selectedOptions.push(index);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  savedSelections[currentSelectedCourseKey] = {
Â  Â  Â  Â  Â  Â  selectedOptions: selectedOptions
Â  Â  Â  Â  };

Â  Â  Â  Â  localStorage.setItem('daisyUserSelections', JSON.stringify(savedSelections));
Â  Â  }


Â  Â  // --- ë·° ì „í™˜ ë° ë Œë”ë§ ---
Â  Â  function renderCourseList() {
Â  Â  Â  Â  document.getElementById('course-list-view').style.display = 'block';
Â  Â  Â  Â  document.getElementById('detail-view').style.display = 'none';

Â  Â  Â  Â  const itemsContainer = document.getElementById('course-items-container');
Â  Â  Â  Â  let html = '';
Â  Â  Â  Â  for (const key in coursesData) {
Â  Â  Â  Â  Â  Â  const course = coursesData[key];
Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="course-item" data-key="${key}" onclick="selectCourse('${key}')">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="course-title">${course.title} ì½”ìŠ¤</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="course-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${course.time}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="course-price">â‚© ${formatPrice(course.basePrice)}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  }
Â  Â  Â  Â  itemsContainer.innerHTML = html;
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('download-list-btn').style.display = 'block';Â 

Â  Â  Â  Â  document.getElementById('phone-frame-capture').scrollTop = 0;
Â  Â  }

Â  Â  function selectCourse(key) {
Â  Â  Â  Â  currentSelectedCourseKey = key;
Â  Â  Â  Â  const course = coursesData[key];
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('course-list-view').style.display = 'none';
Â  Â  Â  Â  document.getElementById('detail-view').style.display = 'flex';
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('download-list-btn').style.display = 'none';Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('detail-title-selected').textContent = course.title + ' ì½”ìŠ¤';
Â  Â  Â  Â  document.getElementById('detail-time-selected').textContent = course.time;
Â  Â  Â  Â  document.getElementById('detail-price-selected-val').textContent = formatPrice(course.basePrice);
Â  Â  Â  Â Â 
Â  Â  Â  Â  renderOptions(course.options);
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('phone-frame-capture').scrollTop = 0;
Â  Â  }

Â  Â  function renderOptions(options) {
Â  Â  Â  Â  const optionsList = document.getElementById('options-list');
Â  Â  Â  Â  let html = '<h3>ì„ íƒ ì˜µì…˜ ì¶”ê°€ (ë³µìˆ˜ ì„ íƒ ê°€ëŠ¥)</h3>';
Â  Â  Â  Â Â 
Â  Â  Â  Â  options.forEach((opt, index) => {
Â  Â  Â  Â  Â  Â  html += `
Â  Â  Â  Â  Â  Â  Â  Â  <div class="option-item">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" id="opt-${index}" data-price="${opt.price}" onchange="updateTotalPrice()">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="opt-${index}">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${opt.name} (<span style="color:red;">+${formatPrice(opt.price)}ì›</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  });
Â  Â  Â  Â  optionsList.innerHTML = html;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // â˜…â˜…â˜… ì´ˆê¸° ì²´í¬ ìƒíƒœ ë¡œë”© ë° ì„¤ì • (ìë™ ì €ì¥ ê¸°ëŠ¥)
Â  Â  Â  Â  const savedSelections = JSON.parse(localStorage.getItem('daisyUserSelections')) || {};
Â  Â  Â  Â  const currentCourseSaved = savedSelections[currentSelectedCourseKey];
Â  Â  Â  Â Â 
Â  Â  Â  Â  let optionsToPreCheck = [];

Â  Â  Â  Â  if (currentCourseSaved && Array.isArray(currentCourseSaved.selectedOptions)) {
Â  Â  Â  Â  Â  Â  // 1. ì €ì¥ëœ ìƒíƒœê°€ ìˆë‹¤ë©´ ë¡œë“œ
Â  Â  Â  Â  Â  Â  optionsToPreCheck = currentCourseSaved.selectedOptions;
Â  Â  Â  Â  } else if (currentSelectedCourseKey === 'sapphire') {
Â  Â  Â  Â  Â  Â  // 2. ì €ì¥ëœ ìƒíƒœê°€ ì—†ê³  ì‚¬íŒŒì´ì–´ ì½”ìŠ¤ë¼ë©´ ê¸°ë³¸ ì˜µì…˜ ì„¤ì • ('ì• ë„' ì˜µì…˜ì€ index 1)
Â  Â  Â  Â  Â  Â  optionsToPreCheck = [1];Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 3. ì²´í¬ë°•ìŠ¤ ìƒíƒœ ì ìš©
Â  Â  Â  Â  document.querySelectorAll('#options-list input[type="checkbox"]').forEach((cb, index) => {
Â  Â  Â  Â  Â  Â  if (optionsToPreCheck.includes(index)) {
Â  Â  Â  Â  Â  Â  Â  Â  cb.checked = true;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  cb.checked = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ìµœì´ˆ ë¡œë”© í›„ ê°€ê²© ì—…ë°ì´íŠ¸ ë° ìƒíƒœ ì €ì¥
Â  Â  Â  Â  updateTotalPrice();
Â  Â  }

Â  Â  function updateTotalPrice() {
Â  Â  Â  Â  if (!currentSelectedCourseKey) return;

Â  Â  Â  Â  const course = coursesData[currentSelectedCourseKey];
Â  Â  Â  Â  let totalPrice = course.basePrice;

Â  Â  Â  Â  document.querySelectorAll('#options-list input[type="checkbox"]:checked').forEach(checkbox => {
Â  Â  Â  Â  Â  Â  const price = parseInt(checkbox.dataset.price);
Â  Â  Â  Â  Â  Â  totalPrice += price;
Â  Â  Â  Â  });

Â  Â  Â  Â  document.getElementById('current-total-price').textContent = 'â‚© ' + formatPrice(totalPrice);
Â  Â  Â  Â Â 
Â  Â  Â  Â  // â˜… ì˜µì…˜ ë³€ê²½ ì‹œ ìë™ ì €ì¥
Â  Â  Â  Â  saveUserSelection();Â 
Â  Â  }

Â  Â  function showCourseList() {
Â  Â  Â  Â  renderCourseList();
Â  Â  Â  Â  document.getElementById('detail-view').style.display = 'none';
Â  Â  Â  Â  closeFinalQuoteModal();
Â  Â  }

Â  Â  // --- ìµœì¢… ê²¬ì  ëª¨ë‹¬ í•¨ìˆ˜ ---
Â  Â  function showFinalQuote() {
Â  Â  Â  Â  if (!currentSelectedCourseKey) return;
Â  Â  Â  Â Â 
Â  Â  Â  Â  const course = coursesData[currentSelectedCourseKey];
Â  Â  Â  Â  let totalPrice = course.basePrice;
Â  Â  Â  Â  let selectedOptionsHtml = '';

Â  Â  Â  Â  document.querySelectorAll('#options-list input[type="checkbox"]:checked').forEach(checkbox => {
Â  Â  Â  Â  Â  Â  const price = parseInt(checkbox.dataset.price);
Â  Â  Â  Â  Â  Â  totalPrice += price;
Â  Â  Â  Â  Â  Â  const optionLabel = checkbox.nextElementSibling.textContent.trim();
Â  Â  Â  Â  Â  Â  const optionName = optionLabel.substring(0, optionLabel.lastIndexOf('(')).trim();

Â  Â  Â  Â  Â  Â  selectedOptionsHtml += `<li>â€¢ ${optionName} (â‚© ${formatPrice(price)})</li>`;
Â  Â  Â  Â  });

Â  Â  Â  Â  const detailContent = `
Â  Â  Â  Â  Â  Â  <div class="quote-details">
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ì„ íƒ ì½”ìŠ¤:</strong> ${course.title} ì½”ìŠ¤</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ì§„í–‰ ì‹œê°„:</strong> ${course.time}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>ê¸°ë³¸ ê¸ˆì•¡:</strong> â‚© ${formatPrice(course.basePrice)}</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="quote-options">
Â  Â  Â  Â  Â  Â  Â  Â  <h4>ì¶”ê°€ ì„ íƒ ì˜µì…˜</h4>
Â  Â  Â  Â  Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${selectedOptionsHtml || '<li>ì„ íƒëœ ì˜µì…˜ ì—†ìŒ</li>'}
Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  `;

Â  Â  Â  Â  document.getElementById('quote-details-content').innerHTML = detailContent;
Â  Â  Â  Â  document.getElementById('modal-total-price').textContent = formatPrice(totalPrice);
Â  Â  Â  Â  document.getElementById('final-quote-modal').style.display = 'flex';
Â  Â  }

Â  Â  function closeFinalQuoteModal() {
Â  Â  Â  Â  document.getElementById('final-quote-modal').style.display = 'none';
Â  Â  }

Â  Â  // --- PNG ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ (ì½”ìŠ¤ ëª©ë¡ ìº¡ì²˜ìš©) ---
Â  Â  function downloadFrameAsPNG(isModalDownload) {
Â  Â  Â  Â  let captureElement;
Â  Â  Â  Â  let fileName;
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (isModalDownload) {
Â  Â  Â  Â  Â  Â  // ê²¬ì ì„œ ëª¨ë‹¬ ìº¡ì²˜
Â  Â  Â  Â  Â  Â  captureElement = document.getElementById('modal-capture-target');Â 
Â  Â  Â  Â  Â  Â  fileName = 'DAISY_ìµœì¢…ê²¬ì ì„œ.png';
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  // ì½”ìŠ¤ ëª©ë¡ ë·° ìº¡ì²˜
Â  Â  Â  Â  Â  Â  captureElement = document.getElementById('phone-frame-capture');Â 
Â  Â  Â  Â  Â  Â  fileName = 'DAISY_ì½”ìŠ¤ëª©ë¡_ìº¡ì²˜.png';
Â  Â  Â  Â  }

Â  Â  Â  Â  html2canvas(captureElement, {
Â  Â  Â  Â  Â  Â  scale: 2,Â 
Â  Â  Â  Â  Â  Â  useCORS: true,
Â  Â  Â  Â  Â  Â  // ìº¡ì²˜ì—ì„œ ì œì™¸í•  ìš”ì†Œ: ëª¨ë‹¬ ë²„íŠ¼ ë˜ëŠ” ì½”ìŠ¤ ëª©ë¡ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼
Â  Â  Â  Â  Â  Â  ignoreElements: (node) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (node.classList.contains('modal-button')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  // ì½”ìŠ¤ ëª©ë¡ ë·° ìº¡ì²˜ ì‹œ, ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ ì œì™¸
Â  Â  Â  Â  Â  Â  Â  Â  if (node.id === 'download-list-btn') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  // ë””í…Œì¼ ë·°ì˜ ë²„íŠ¼ë„ ìº¡ì²˜ì—ì„œ ì œì™¸
Â  Â  Â  Â  Â  Â  Â  Â  if (node.classList.contains('action-btn')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  windowHeight: captureElement.scrollHeight,
Â  Â  Â  Â  Â  Â  scrollY: -captureElement.scrollTop
Â  Â  Â  Â  }).then(canvas => {
Â  Â  Â  Â  Â  Â  const link = document.createElement('a');
Â  Â  Â  Â  Â  Â  link.href = canvas.toDataURL('image/png');
Â  Â  Â  Â  Â  Â  link.download = fileName;
Â  Â  Â  Â  Â  Â  document.body.appendChild(link);
Â  Â  Â  Â  Â  Â  link.click();
Â  Â  Â  Â  Â  Â  document.body.removeChild(link);
Â  Â  Â  Â  Â  Â  alert(`${fileName} íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.`);
Â  Â  Â  Â  }).catch(err => {
Â  Â  Â  Â  Â  Â  console.error("PNG ìº¡ì²˜ ì‹¤íŒ¨:", err);
Â  Â  Â  Â  Â  Â  alert("PNG ìº¡ì²˜ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (ì½˜ì†” ë¡œê·¸ í™•ì¸)");
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // --- ì´ˆê¸°í™” ---
Â  Â  window.onload = () => {
Â  Â  Â  Â  loadCoursesData();
Â  Â  Â  Â  renderCourseList();
Â  Â  Â  Â  document.getElementById('final-quote-modal').style.display = 'none';
Â  Â  };
</script>

</body>
</html>
